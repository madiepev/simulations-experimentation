<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Configuration Quest</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #ffffff;
            color: #000000;
            min-height: 100vh;
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .game-header {
            background: #ffffff;
            border: 3px solid #000000;
            border-radius: 0;
            padding: 16px 24px;
            margin-bottom: 24px;
            position: relative;
        }

        .player-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .player-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .player-title {
            font-size: 18px;
            font-weight: bold;
            color: #000000;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .xp-bar {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .xp-progress {
            width: 200px;
            height: 20px;
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 0;
            overflow: hidden;
        }

        .xp-fill {
            height: 100%;
            background: #FF5C39;
            width: 25%;
            transition: width 0.3s ease;
        }

        .xp-text {
            font-size: 12px;
            font-weight: bold;
            color: #000000;
        }

        .rookie-badge {
            background: #C73ECC;
            color: #ffffff;
            padding: 6px 12px;
            border-radius: 0;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            border: 2px solid #000000;
        }

        .nav-tabs {
            display: flex;
            gap: 4px;
            margin-top: 12px;
        }

        .nav-tab {
            flex: 1;
            background: #ffffff;
            border: 2px solid #000000;
            color: #000000;
            padding: 12px;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            background: #000000;
            color: #ffffff;
        }

        .nav-tab.active {
            background: #FF5C39;
            color: #ffffff;
            border-color: #000000;
        }

        .quest-panel {
            background: #ffffff;
            border: 3px solid #000000;
            border-radius: 0;
            padding: 20px;
            margin-bottom: 24px;
        }

        .quest-title {
            font-size: 32px;
            font-weight: bold;
            color: #000000;
            text-align: center;
            margin-bottom: 8px;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .quest-subtitle {
            color: #C73ECC;
            font-size: 16px;
            text-align: center;
            margin-bottom: 16px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 0;
            padding: 16px;
            text-align: center;
        }

        .stat-number {
            font-size: 28px;
            font-weight: bold;
            color: #FF5C39;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: #000000;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }

        .mission-briefing {
            background: #ffffff;
            border: 3px solid #000000;
            border-radius: 0;
            padding: 20px;
            margin-bottom: 24px;
            position: relative;
        }

        .classified-badge {
            position: absolute;
            top: -10px;
            left: 20px;
            background: #FE5B38;
            color: #ffffff;
            padding: 4px 12px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            border: 2px solid #000000;
            border-radius: 0;
        }

        .tutorial-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: #D59DD7;
            color: #000000;
            padding: 4px 12px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
            border: 2px solid #000000;
            border-radius: 0;
        }

        .briefing-title {
            font-size: 20px;
            font-weight: bold;
            color: #000000;
            margin-bottom: 16px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .briefing-text {
            color: #000000;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .mission-params {
            background: #FEE298;
            border: 2px solid #000000;
            border-radius: 0;
            padding: 16px;
            margin-top: 16px;
        }

        .param-title {
            color: #000000;
            font-weight: bold;
            margin-bottom: 8px;
            text-transform: uppercase;
            font-size: 14px;
        }

        .param-item {
            color: #000000;
            margin-bottom: 4px;
            font-size: 13px;
        }

        /* Progress Overview */
        .progress-overview {
            background: #ffffff;
            border: 3px solid #000000;
            border-radius: 0;
            padding: 20px;
            margin-bottom: 24px;
        }

        .progress-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 16px;
            color: #000000;
            text-transform: uppercase;
            letter-spacing: 2px;
            text-align: center;
        }

        .config-progress {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .config-indicator {
            flex: 1;
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 0;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 16px;
            font-size: 14px;
            font-weight: bold;
            color: #000000;
            min-height: 50px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .config-indicator.completed {
            background: #FF5C39;
            color: #ffffff;
        }

        .config-indicator.active {
            background: #C73ECC;
            color: #ffffff;
            border-color: #000000;
        }

        .config-indicator:hover {
            transform: translateY(-2px);
            box-shadow: 4px 4px 0px #000000;
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            color: #000000;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .progress-stats .completed-count {
            color: #FF5C39;
            font-weight: bold;
        }

        /* Main Layout */
        .main-layout {
            display: grid;
            grid-template-columns: 450px 1fr;
            gap: 24px;
            height: 800px;
        }

        /* Backend Configuration Panel */
        .backend-panel {
            background: #000000;
            border: 3px solid #000000;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .backend-header {
            background: #FF5C39;
            color: #ffffff;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid #000000;
        }

        .backend-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .config-section {
            margin-bottom: 24px;
        }

        .section-title {
            color: #ffffff;
            font-size: 16px;
            margin-bottom: 12px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .parameter-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .parameter-item {
            background: #ffffff;
            border: 2px solid #000000;
            padding: 10px 12px;
            color: #000000;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        .parameter-label {
            color: #000000;
            font-size: 12px;
            margin-bottom: 4px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .parameter-value {
            color: #FF5C39;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .system-prompt {
            background: #ffffff;
            border: 2px solid #000000;
            padding: 12px;
            color: #000000;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
            white-space: pre-wrap;
            height: 300px;
            overflow-y: auto;
        }

        /* Frontend App Panel */
        .frontend-panel {
            background: #ffffff;
            border: 3px solid #000000;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 800px;
        }

        .app-frame {
            background: #ffffff;
            padding: 12px;
            border-bottom: 2px solid #000000;
        }

        .app-header {
            background: #ffffff;
            border: 2px solid #000000;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .app-controls {
            display: flex;
            gap: 6px;
        }

        .app-control {
            width: 12px;
            height: 12px;
            border: 1px solid #000000;
            background: #ffffff;
        }

        .app-control.close {
            background: #FE5B38;
        }

        .app-title {
            flex: 1;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
            color: #000000;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
        }

        .app-badge {
            background: #C73ECC;
            color: #ffffff;
            padding: 4px 8px;
            font-size: 12px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            border: 1px solid #000000;
        }

        .chat-container {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-message {
            display: flex;
            gap: 12px;
        }

        .chat-message.assistant {
            max-width: 80%;
        }

        .chat-message.user {
            flex-direction: row-reverse;
            align-self: flex-end;
            margin-left: auto;
            margin-right: 0;
            max-width: 80%;
            width: fit-content;
            justify-content: flex-end;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border: 2px solid #000000;
            background: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: #000000;
            flex-shrink: 0;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }

        .message-avatar.user {
            background: #FF5C39;
            color: #ffffff;
        }

        .message-avatar.assistant {
            background: #D7D2CA;
            color: #000000;
        }

        .message-bubble {
            padding: 12px 16px;
            border: 2px solid #000000;
            font-size: 14px;
            line-height: 1.5;
            word-wrap: break-word;
            font-family: 'Courier New', monospace;
        }

        .chat-message.user .message-bubble {
            background: #ffffff;
            color: #000000;
            margin-right: 0;
            margin-left: 12px;
            max-width: none;
        }

        .chat-message.assistant .message-bubble {
            background: #ffffff;
            color: #000000;
        }

        .message-time {
            font-size: 11px;
            color: #000000;
            margin-top: 4px;
            font-family: 'Courier New', monospace;
        }

        /* Rating Section */
        .rating-section {
            background: #ffffff;
            border: 3px solid #000000;
            border-radius: 0;
            padding: 20px;
            margin-top: 24px;
        }

        .rating-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #000000;
            text-align: center;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .rating-questions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        .rating-question {
            text-align: center;
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 0;
            padding: 16px;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 16px;
            color: #000000;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .rating-buttons {
            display: flex;
            justify-content: center;
            gap: 24px;
        }

        .rating-btn {
            background: #ffffff;
            border: 2px solid #000000;
            border-radius: 0;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 24px;
            color: #000000;
        }

        .rating-btn:hover {
            background: #FF5C39;
            color: #ffffff;
            transform: scale(1.1);
        }

        .rating-btn.selected {
            background: #C73ECC;
            color: #ffffff;
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 16px;
        }

        .btn {
            padding: 12px 24px;
            border: 2px solid #000000;
            border-radius: 0;
            background: #ffffff;
            color: #000000;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn:hover {
            background: #FF5C39;
            color: #ffffff;
            transform: translateY(-2px);
            box-shadow: 4px 4px 0px #000000;
        }

        .current-config {
            text-align: center;
            margin-bottom: 16px;
            font-size: 14px;
            color: #000000;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            text-transform: uppercase;
            letter-spacing: 1px;
            background: #D7D2CA;
            border: 2px solid #000000;
            border-radius: 0;
            padding: 12px;
        }

        @media (max-width: 1200px) {
            .main-layout {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .backend-panel, .frontend-panel {
                height: auto;
                min-height: 600px;
            }

            .rating-questions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-header">
            <div class="player-status">
                <div class="player-info">
                    <div class="player-title">AI SPECIALIST LVL 1</div>
                    <div class="xp-bar">
                        <div class="xp-progress">
                            <div class="xp-fill"></div>
                        </div>
                        <div class="xp-text">250 / 1000 XP</div>
                    </div>
                </div>
                <div class="rookie-badge">ROOKIE</div>
            </div>
            <div class="nav-tabs">
                <div class="nav-tab active">
                    <i class="fas fa-cog"></i><br>INIT
                </div>
                <div class="nav-tab">
                    <i class="fas fa-search"></i><br>SCAN
                </div>
                <div class="nav-tab">
                    <i class="fas fa-database"></i><br>DATA
                </div>
                <div class="nav-tab">
                    <i class="fas fa-sliders-h"></i><br>TUNE
                </div>
                <div class="nav-tab">
                    <i class="fas fa-trophy"></i><br>WIN
                </div>
            </div>
        </div>

        <div class="quest-panel">
            <div class="quest-title">AI FINE-TUNING QUEST</div>
            <div class="quest-subtitle">MASTER THE ANCIENT ART OF MODEL ENHANCEMENT</div>
            
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-number" id="progressStat">0</div>
                    <div class="stat-label">PROGRESS</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">4</div>
                    <div class="stat-label">PHASES</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">250</div>
                    <div class="stat-label">XP REWARD</div>
                </div>
                <div class="stat-box">
                    <div class="stat-number">1</div>
                    <div class="stat-label">DIFFICULTY</div>
                </div>
            </div>
        </div>

        <div class="mission-briefing">
            <div class="classified-badge">CLASSIFIED</div>
            <div class="tutorial-badge">TUTORIAL</div>
            <div class="briefing-title">MISSION BRIEFING</div>
            <div class="briefing-text">
                >>> SYSTEM AI INSTRUCTOR<br><br>
                Agent, you've been selected for a critical mission. Our customer service 
                division requires a sophisticated chatbot capable of maintaining 
                exceptional politeness while delivering accurate support. The current 
                base model lacks empathy and professional communication standards.<br><br>
                Your objective: Implement supervised fine-tuning to enhance the AI's 
                conversational abilities. Success will be measured by comparing 
                baseline performance against your optimized model.
            </div>
            <div class="mission-params">
                <div class="param-title">MISSION PARAMETERS</div>
                <div class="param-item">TARGET: Polite Customer Service Bot</div>
                <div class="param-item">METHOD: Supervised Fine-Tuning (SFT)</div>
                <div class="param-item">DATASET: Human-Curated Conversation Examples</div>
                <div class="param-item">EVALUATION: Comparative Analysis Protocol</div>
            </div>
        </div>

        <div class="progress-overview">
            <div class="progress-title">◢ QUEST PROGRESS STATUS ◣</div>
            <div class="config-progress">
                <div class="config-indicator" onclick="selectConfig(0)">CONFIG A</div>
                <div class="config-indicator" onclick="selectConfig(1)">CONFIG B</div>
                <div class="config-indicator" onclick="selectConfig(2)">CONFIG C</div>
                <div class="config-indicator" onclick="selectConfig(3)">CONFIG D</div>
            </div>
            <div class="progress-stats">
                <span>CONFIGURATIONS TESTED: <span class="completed-count">0/4</span></span>
                <span>QUEST COMPLETION: 0%</span>
            </div>
        </div>

        <div class="main-layout">
            <!-- Backend Configuration Panel -->
            <div class="backend-panel">
                <div class="backend-header">
                    <i class="fas fa-terminal"></i>
                    <span>System Terminal</span>
                    <span id="configBadge" style="margin-left: auto; background: #ffffff; color: #000000; padding: 4px 8px;">A</span>
                </div>
                <div class="backend-content">
                    <div class="config-section">
                        <div class="section-title">► Model Parameters</div>
                        <div class="parameter-grid" id="parameterGrid">
                            <!-- Parameters will be populated here -->
                        </div>
                    </div>
                    <div class="config-section">
                        <div class="section-title">► System Prompt</div>
                        <div class="system-prompt" id="systemPrompt">
                            <!-- System prompt will be populated here -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Frontend App Panel -->
            <div class="frontend-panel">
                <div class="app-frame">
                    <div class="app-header">
                        <div class="app-controls">
                            <div class="app-control close"></div>
                            <div class="app-control"></div>
                            <div class="app-control"></div>
                        </div>
                        <div class="app-title">Customer Support Chat</div>
                        <div class="app-badge" id="configBadge2">Config A</div>
                    </div>
                </div>
                <div class="chat-container" id="chatContainer">
                    <!-- Chat messages will be populated here -->
                </div>
            </div>
        </div>

        <div class="rating-section">
            <div class="current-config" id="currentConfigName">CURRENTLY TESTING: CONFIGURATION A (BALANCED & PROFESSIONAL)</div>
            <div class="rating-title">◈ RATE THIS CONFIGURATION ◈</div>
            <div class="rating-questions">
                <div class="rating-question">
                    <div class="question-text">HOW POLITE WAS THE RESPONSE?</div>
                    <div class="rating-buttons">
                        <button class="rating-btn" data-question="politeness" data-value="down">
                            <i class="fas fa-thumbs-down"></i>
                        </button>
                        <button class="rating-btn" data-question="politeness" data-value="up">
                            <i class="fas fa-thumbs-up"></i>
                        </button>
                    </div>
                </div>
                <div class="rating-question">
                    <div class="question-text">HOW CLEAR WAS THE RESPONSE?</div>
                    <div class="rating-buttons">
                        <button class="rating-btn" data-question="clarity" data-value="down">
                            <i class="fas fa-thumbs-down"></i>
                        </button>
                        <button class="rating-btn" data-question="clarity" data-value="up">
                            <i class="fas fa-thumbs-up"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="action-buttons">
                <button class="btn" onclick="prevConfig()">
                    <i class="fas fa-arrow-left"></i>
                    PREVIOUS
                </button>
                <button class="btn" onclick="submitRating()">
                    <i class="fas fa-check"></i>
                    SUBMIT RATING
                </button>
                <button class="btn" onclick="nextConfig()">
                    <i class="fas fa-arrow-right"></i>
                    NEXT
                </button>
            </div>
        </div>
    </div>

    <script>
        // Application state
        const currentState = {
            activeConfig: 0,
            ratings: {},
            completedConfigs: []
        };

        // Configuration data
        const configurations = [
            {
                id: 'config-a',
                name: 'Configuration A',
                description: 'Balanced & Professional',
                parameters: {
                    'Temperature': '0.7',
                    'Max Tokens': '200',
                    'Top-p': '0.9',
                    'Frequency Penalty': '0.3',
                    'Presence Penalty': '0.1'
                },
                systemPrompt: `You are a helpful and professional customer support assistant. You should:
- Respond in a clear and concise manner
- Show empathy for customer concerns
- Provide accurate information
- Ask clarifying questions when needed
- Maintain a professional tone throughout
- Focus on solving the customer's problem efficiently`,
                conversation: [
                    {
                        sender: 'user',
                        text: "Hi, I'm having trouble with my recent order. It was supposed to arrive yesterday but I haven't received it yet.",
                        time: '2:30 PM'
                    },
                    {
                        sender: 'assistant',
                        text: "I understand your concern about the delayed order. Let me help you track this down right away. Could you please provide your order number so I can check the current status and provide you with an updated delivery timeline?",
                        time: '2:30 PM'
                    }
                ]
            },
            {
                id: 'config-b',
                name: 'Configuration B',
                description: 'Warm & Empathetic',
                parameters: {
                    'Temperature': '0.7',
                    'Max Tokens': '200',
                    'Top-p': '0.9',
                    'Frequency Penalty': '0.3',
                    'Presence Penalty': '0.1'
                },
                systemPrompt: `You are a friendly and empathetic customer support assistant. You should:
- Show genuine concern for customer issues
- Use a warm, conversational tone
- Provide detailed explanations when helpful
- Acknowledge customer frustration and validate their feelings
- Offer multiple solutions when possible
- Be proactive in suggesting additional help`,
                conversation: [
                    {
                        sender: 'user',
                        text: "Hi, I'm having trouble with my recent order. It was supposed to arrive yesterday but I haven't received it yet.",
                        time: '2:30 PM'
                    },
                    {
                        sender: 'assistant',
                        text: "Oh no, I'm really sorry to hear that your order didn't arrive as expected! I completely understand how frustrating that must be, especially when you're counting on receiving it on time. Let me help you get to the bottom of this right away. Could you share your order number with me? I'll track it down and see exactly what's happening with your delivery.",
                        time: '2:30 PM'
                    }
                ]
            },
            {
                id: 'config-c',
                name: 'Configuration C',
                description: 'Creative & Engaging',
                parameters: {
                    'Temperature': '0.9',
                    'Max Tokens': '250',
                    'Top-p': '0.95',
                    'Frequency Penalty': '0.5',
                    'Presence Penalty': '0.3'
                },
                systemPrompt: `You are an enthusiastic and creative customer support assistant. You should:
- Use engaging and personalized language
- Show personality while remaining professional
- Think outside the box for creative solutions
- Use metaphors or analogies when they help explain things
- Be memorable and build rapport with customers
- Surprise and delight customers when appropriate`,
                conversation: [
                    {
                        sender: 'user',
                        text: "Hi, I'm having trouble with my recent order. It was supposed to arrive yesterday but I haven't received it yet.",
                        time: '2:30 PM'
                    },
                    {
                        sender: 'assistant',
                        text: "Oh my! It sounds like your package decided to take a little detour on its journey to you! 📦✈️ Don't worry though - I'm like a detective when it comes to tracking down missing orders, and I'm on the case! Think of me as your personal package-hunting superhero. Let's solve this mystery together! Could you share your order number with me? I'll put on my detective hat and figure out exactly where your package wandered off to. We'll have this sorted out faster than you can say 'express delivery'! 🕵️‍♀️",
                        time: '2:30 PM'
                    }
                ]
            },
            {
                id: 'config-d',
                name: 'Configuration D',
                description: 'Technical & Precise',
                parameters: {
                    'Temperature': '0.2',
                    'Max Tokens': '180',
                    'Top-p': '0.7',
                    'Frequency Penalty': '0.1',
                    'Presence Penalty': '0.0'
                },
                systemPrompt: `You are a precise and efficient customer support assistant. You should:
- Focus on factual information and clear processes
- Use structured responses with numbered steps when appropriate
- Minimize emotional language and focus on solutions
- Be direct and efficient in communication
- Provide specific timeframes and expectations
- Reference policies and procedures when relevant`,
                conversation: [
                    {
                        sender: 'user',
                        text: "Hi, I'm having trouble with my recent order. It was supposed to arrive yesterday but I haven't received it yet.",
                        time: '2:30 PM'
                    },
                    {
                        sender: 'assistant',
                        text: "I can assist you with tracking your delayed order. To process your inquiry efficiently, please provide your order number. Once I have this information, I will: 1) Check the current shipping status, 2) Identify any delivery exceptions, 3) Provide you with an updated delivery estimate, and 4) Offer appropriate resolution options based on our shipping policy.",
                        time: '2:30 PM'
                    }
                ]
            }
        ];

        // Initialize the application
        function initializeApp() {
            selectConfig(0);
            updateProgress();
        }

        // Select configuration
        function selectConfig(index) {
            currentState.activeConfig = index;
            
            // Update progress indicators
            document.querySelectorAll('.config-indicator').forEach((indicator, i) => {
                indicator.classList.remove('active', 'completed');
                if (i === index) {
                    indicator.classList.add('active');
                } else if (currentState.completedConfigs.includes(i)) {
                    indicator.classList.add('completed');
                }
            });
            
            // Update content
            updateBackendPanel();
            updateChatContent();
            updateCurrentConfigName();
            updateRatingButtons();
        }

        // Navigate to previous configuration
        function prevConfig() {
            const newIndex = currentState.activeConfig === 0 ? configurations.length - 1 : currentState.activeConfig - 1;
            selectConfig(newIndex);
        }

        // Navigate to next configuration
        function nextConfig() {
            const newIndex = (currentState.activeConfig + 1) % configurations.length;
            selectConfig(newIndex);
        }

        // Update backend panel
        function updateBackendPanel() {
            const config = configurations[currentState.activeConfig];
            const parameterGrid = document.getElementById('parameterGrid');
            const systemPrompt = document.getElementById('systemPrompt');
            
            // Update parameters
            parameterGrid.innerHTML = Object.entries(config.parameters).map(([key, value]) => `
                <div class="parameter-item">
                    <div class="parameter-label">${key}</div>
                    <div class="parameter-value">${value}</div>
                </div>
            `).join('');
            
            // Update system prompt
            systemPrompt.textContent = config.systemPrompt;
        }

        // Update chat content
        function updateChatContent() {
            const config = configurations[currentState.activeConfig];
            const container = document.getElementById('chatContainer');
            const badge = document.getElementById('configBadge');
            const badge2 = document.getElementById('configBadge2');
            
            badge.textContent = config.name.split(' ')[1]; // Just the letter
            badge2.textContent = config.name;
            
            container.innerHTML = config.conversation.map(message => `
                <div class="chat-message ${message.sender}">
                    <div class="message-avatar ${message.sender}">
                        ${message.sender === 'user' ? 'U' : 'AI'}
                    </div>
                    <div>
                        <div class="message-bubble">${message.text}</div>
                        <div class="message-time">${message.time}</div>
                    </div>
                </div>
            `).join('');
        }

        // Update current config name
        function updateCurrentConfigName() {
            const config = configurations[currentState.activeConfig];
            document.getElementById('currentConfigName').textContent = 
                `CURRENTLY TESTING: ${config.name.toUpperCase()} (${config.description.toUpperCase()})`;
        }

        // Update rating buttons
        function updateRatingButtons() {
            const configId = configurations[currentState.activeConfig].id;
            const ratings = currentState.ratings[configId] || {};
            
            document.querySelectorAll('.rating-btn').forEach(btn => {
                btn.classList.remove('selected');
                const question = btn.dataset.question;
                const value = btn.dataset.value;
                
                if (ratings[question] === value) {
                    btn.classList.add('selected');
                }
            });
        }

        // Handle rating button clicks
        document.querySelectorAll('.rating-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const question = btn.dataset.question;
                const value = btn.dataset.value;
                const configId = configurations[currentState.activeConfig].id;
                
                if (!currentState.ratings[configId]) {
                    currentState.ratings[configId] = {};
                }
                
                // Toggle rating
                if (currentState.ratings[configId][question] === value) {
                    delete currentState.ratings[configId][question];
                } else {
                    currentState.ratings[configId][question] = value;
                }
                
                updateRatingButtons();
            });
        });

        // Submit rating
        function submitRating() {
            const configIndex = currentState.activeConfig;
            const configId = configurations[configIndex].id;
            const ratings = currentState.ratings[configId];
            
            if (ratings && Object.keys(ratings).length > 0) {
                // Mark as completed
                if (!currentState.completedConfigs.includes(configIndex)) {
                    currentState.completedConfigs.push(configIndex);
                }
                
                updateProgress();
                
                // Move to next config or show completion
                if (currentState.completedConfigs.length === configurations.length) {
                    alert('Quest Complete! You have rated all configurations.');
                } else {
                    alert(`Rating submitted for ${configurations[configIndex].name}!`);
                    nextConfig();
                }
            } else {
                alert('Please provide at least one rating before submitting.');
            }
        }

        // Update progress
        function updateProgress() {
            const completed = currentState.completedConfigs.length;
            const total = configurations.length;
            const percentage = Math.round((completed / total) * 100);
            
            document.querySelector('.completed-count').textContent = `${completed}/${total}`;
            document.querySelector('.progress-stats span:last-child').textContent = `QUEST COMPLETION: ${percentage}%`;
            document.getElementById('progressStat').textContent = `${completed}`;
            
            // Update XP bar
            const xpFill = document.querySelector('.xp-fill');
            const xpPercentage = Math.min(25 + (completed * 18.75), 100); // Start at 25%, gain ~19% per completion
            xpFill.style.width = `${xpPercentage}%`;
        }

        // Initialize the application
        initializeApp();
    </script>
</body>
</html>
